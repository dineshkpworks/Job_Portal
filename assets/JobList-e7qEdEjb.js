import{r as h,j as e,L as g,t as b,g as p,B as u}from"./index-BTZwPIQt.js";import{B as l}from"./Badge-B4UHtXPn.js";function v({job:r,isSaved:s=!1,isApplied:t=!1,onSave:i,onUnsave:n,onApplyClick:o,isAuthenticated:d}){const c=a=>{a.preventDefault(),a.stopPropagation(),d&&(s?n?.(r.id):i?.(r.id))},x=a=>{a.preventDefault(),a.stopPropagation(),d&&o?.(r)},m=Array.isArray(r.tags)?r.tags.slice(0,5):[];return e.jsxs("article",{className:"group relative rounded-lg border border-[#e5e7eb] dark:border-gray-700 bg-white dark:bg-gray-800 p-5 transition-all duration-200 hover:border-blue-200 dark:hover:border-blue-800 hover:shadow-md",children:[e.jsxs("div",{className:"flex justify-between gap-5 relative z-10",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[e.jsx(g,{to:`/jobs/${r.id}`,className:"font-semibold text-[#111827] dark:text-white hover:text-[#2563eb] truncate block text-base transition-colors duration-200",children:r.title}),t&&e.jsx(l,{variant:"applied",children:"Applied"})]}),e.jsxs("p",{className:"text-sm text-[#6b7280] dark:text-gray-400 mb-2",children:[r.company," · ",r.location]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsx(l,{children:r.type}),e.jsx(l,{children:r.experience}),m.map(a=>e.jsx(l,{variant:"tag",children:a},a))]}),e.jsx("p",{className:"text-sm text-[#6b7280] dark:text-gray-500 line-clamp-2 leading-relaxed",children:b(r.description||"",140)}),e.jsxs("p",{className:"text-xs text-[#6b7280] dark:text-gray-500 mt-2",children:[p(r.createdAt)," · ",r.salary??"Not disclosed"]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2 shrink-0 relative z-10",children:[e.jsx("button",{type:"button",onClick:c,className:"p-2 rounded-lg text-[#6b7280] hover:text-red-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",title:s?"Remove from saved":"Save job","aria-label":s?"Unsave job":"Save job",children:e.jsx("svg",{className:`w-4 h-4 ${s?"fill-red-600 text-red-600":""}`,fill:s?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),!t&&e.jsx(u,{variant:"primary",onClick:x,className:"transition-all duration-200 hover:bg-[#1d4ed8] hover:shadow-md",children:"Apply"})]})]}),e.jsx(g,{to:`/jobs/${r.id}`,className:"absolute inset-0 z-0","aria-hidden":!0,tabIndex:-1})]})}const y=h.memo(v);function k(){return e.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(r=>e.jsxs("div",{className:"rounded border border-[#e5e7eb] dark:border-gray-700 p-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-1/3 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-1/2 mb-2"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("div",{className:"h-5 w-14 bg-gray-200 dark:bg-gray-600 rounded mb-2"}),e.jsx("div",{className:"h-5 w-14 bg-gray-200 dark:bg-gray-600 rounded"})]}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-full mb-1"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-2/3"})]},r))})}function j({jobs:r,loading:s,error:t,savedIds:i,appliedIds:n,isAuthenticated:o,onSave:d,onUnsave:c,onApplyClick:x,emptyMessage:m="No jobs match your criteria."}){return s?e.jsx(k,{}):t?e.jsxs("div",{className:"rounded border border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 p-4 text-center",children:[e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 font-medium",children:t}),e.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Using fallback data if available."})]}):r?.length?e.jsx("ul",{className:"space-y-4 list-none p-0 m-0",children:r.map(a=>e.jsx("li",{children:e.jsx(y,{job:a,isSaved:i?.has(a.id),isApplied:n?.has(a.id),onSave:d,onUnsave:c,onApplyClick:x,isAuthenticated:o})},a.id))}):e.jsx("div",{className:"rounded border border-[#e5e7eb] dark:border-gray-700 bg-white dark:bg-gray-800 p-8 text-center",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m})})}export{j as J};
