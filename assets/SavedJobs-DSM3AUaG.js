import{a as h,b as y,u as f,r as t,c as j,j as s}from"./index-OiARom6Y.js";import{J}from"./JobList-evnQBrFZ.js";import{A}from"./ApplyModal-Ca1enLht.js";import"./Badge-BLPvBnRV.js";function N(){const i=h(),{user:a,isAuthenticated:o}=y(),{allJobs:d,savedIds:l,appliedIds:n,setSavedIds:c,setAppliedIds:g}=f(),[u,r]=t.useState(null),x=t.useMemo(()=>d.filter(e=>l.has(e.id)),[d,l]),m=t.useCallback(async e=>{if(a?.uid)try{await j(a.uid,e),c(v=>{const p=new Set(v);return p.delete(e),p})}catch{}},[a?.uid,c]),b=t.useCallback(e=>{if(!o){i("/login");return}n.has(e.id)||r(e)},[o,i,n]);return s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("h1",{className:"text-xl font-semibold text-[#111827] dark:text-white mb-1",children:"Saved jobs"}),s.jsx("p",{className:"text-sm text-[#6b7280] dark:text-gray-400 mb-4",children:"Jobs you've saved for later."}),s.jsx(J,{jobs:x,loading:!1,savedIds:l,appliedIds:n,isAuthenticated:o,onUnsave:m,onApplyClick:b,emptyMessage:"You haven't saved any jobs yet. Browse jobs and click the heart to save."}),u&&s.jsx(A,{job:u,onClose:()=>r(null),onSuccess:()=>r(null)})]})}export{N as default};
